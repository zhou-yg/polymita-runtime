import { ConnectProvider, createRenderToReact } from '@polymita/next-connect'
import { h } from '@polymita/renderer'

const renderToReact = createRenderToReact(React, "<%= pkgName %>")

export type <%= name %>Props = ComponentModule.<%= name %>Props

export const base = ComponentModule.base
export const meta = ComponentModule.meta
//
export const name = ComponentModule.name
export const namespace = ComponentModule.namespace
//
export const logic = ComponentModule.logic
export type <%= name %>Layout = ComponentModule.<%= name %>Layout
export const layout = ComponentModule.layout
export const styleRules = ComponentModule.styleRules
export const designPattern = ComponentModule.designPattern

export default (modulesLinkMap: Map<string, any>, modulesActiveLink: string[]) => {
  
  const Component = renderToReact(ComponentModule, modulesLinkMap, modulesActiveLink);

  const <%= name %> = (props: ComponentModule.<%= name %>Props) => {

    return React.createElement(Component, props)
  }

  return <%= name %>;
}